{% extends "base.html"%}
{% load static %}

<!--TITULAR-->

<!--foto de fons del titular-->


<!--Títol-->

{%block titulartitle%}Inicia la sessió{%endblock titulartitle%}

<!--Descripció-->

{%block titulardescripcio%}Inicia la sessió amb un compte ja existent.{%endblock titulardescripcio%}

<!--Menú d'on sóc-->

{%block routetitle%}Inicia la sessió{%endblock routetitle%}

<!--CONTINGUT DE LA PÀGINA-->
{%block alerts%}
<div id="errorusuarilogin" class="alert alert-danger position-fixed centered-alert text-center" role="alert" style="z-index: 1000; display: none;">
  <h4 class="alert-heading">Error!</h4>
  <p>Per favor, corregeix els camps marcats en vermell.</p>
</div>
<div id="loginerror" class="alert alert-danger position-fixed centered-alert text-center" role="alert" style="z-index: 1000; display: none;">
  <h4 class="alert-heading">Error!</h4>
  <p>L'usuari i la contrasenya no són correctes. Per favor, intenta-ho de nou.</p>
</div>
{%endblock alerts%}

{%block content%}
    <div class="container">
        <div class="card">
            <div class="card-body">
            <form method="POST" action="{% url 'login' %}">
            {% csrf_token %}
                <div class="row">
                    <div class="col-md-12">
                        <label class="font-weight-bold">Nom d'usuari <span id="errorusername" class="text-danger"></span></label>
                        <div class="input-group form-group" id="grupusername">
                            <div class="input-group-prepend">
                                <span class="input-group-text"><em class="fas fa-user"
                                        aria-hidden="true"></em></span>
                            </div>
                            <input title="Nom d'usuari" id="username" name="username" type="text" class="form-control" placeholder="Nom d'usuari">
                        </div>
                    </div>
                </div>
                <div class="row">
                    <div class="col-md-12">
                        <label class="font-weight-bold">Contrasenya <span id="errorpassword" class="text-danger"></span></label>
                        <div class="input-group form-group" id="gruppassword">
                            <div class="input-group-prepend">
                                <span class="input-group-text"><em class="fas fa-key" aria-hidden="true"></em></span>
                            </div>
                            <input title="Contrasenya" id="password" name="password" type="password" class="form-control" placeholder="Contrasenya">
                        </div>
                    </div>
                </div>
                <div class="row">
                    <div class="col-md-12 text-right">
                        <button id="bLogin" title="Inicia sessió" type="submit" class="btn btn-primary btn-md">Inicia sessió</button>
                    </div>
                </div>
            </div>
            </form>
            <div class="card-footer mt-3">
            <div class="row mt-3">
                    <div class="col-md-12">
                            <p class="text-center">No tens un compte? <a class="btn-link" href="/registre/">Registra't aquí.</a></p>
                            <p class="text-center">T'has oblidat de la contrasenya? <a class="btn-link" href="{% url 'password_reset' %}">Reinicia-la aquí.</a></p>
                        </div>
                    </div>
                </div>
            </div>
            </div>
        </div>
    </div>
{%endblock content%}
{%block ownscripts%}
<script type="text/javascript" src="{% static 'js/login.js' %}"></script>
{% if form.errors %}
<script>
$("#loginerror").fadeIn().delay(5000).fadeOut();
</script>
{% endif %}
{%endblock ownscripts%}